<!doctype html>
<html lang="nb">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hjelpeportalen</title>

  <style>
    :root{
      --text:#0f172a;
      --muted:#475569;
      --line:#e5e7eb;
      --bg:#ffffff;
      --btn:#0b0b0b;
      --btnText:#ffffff;
      --max:1100px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      color:var(--text);
      background:var(--bg);
    }

    /* Header */
    header{border-bottom:1px solid var(--line)}
    .nav{
      max-width:var(--max);
      margin:0 auto;
      padding:18px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:inherit;
      font-weight:700;
    }
    .brand img{width:44px;height:44px}

    .links{
      display:flex;
      align-items:center;
      gap:22px;
      font-size:14px;
    }
    .links a{
      text-decoration:none;
      color:var(--text);
      opacity:.9;
    }
    .links a:hover{opacity:1}

    .cta{
      margin-left:12px;
      padding:10px 14px;
      border-radius:999px;
      background:var(--btn);
      color:var(--btnText);
      font-weight:700;
      text-decoration:none;
    }

    /* Mobile */
    .burger{
      display:none;
      border:1px solid var(--line);
      background:#fff;
      border-radius:10px;
      padding:10px 12px;
      font-weight:700;
    }
    .mobileMenu{
      display:none;
      border-top:1px solid var(--line);
      padding:10px 20px 18px;
      max-width:var(--max);
      margin:0 auto;
    }
    .mobileMenu a{
      display:block;
      padding:10px 0;
      text-decoration:none;
      color:var(--text);
      border-bottom:1px dashed #f1f5f9;
    }
    .mobileMenu a:last-child{border-bottom:none}

    @media (max-width:860px){
      .links{display:none}
      .burger{display:inline-flex}
    }

    /* Main */
    main{
      max-width:var(--max);
      margin:0 auto;
      padding:80px 20px 90px;
    }
    .hero{text-align:center}
    h1{
      margin:0;
      font-size:64px;
      letter-spacing:-0.03em;
      line-height:1.05;
    }
    .lead{
      margin:18px auto 0;
      font-size:22px;
      font-weight:800;
      max-width:780px;
    }
    .body{
      margin:34px auto 0;
      max-width:780px;
      color:var(--muted);
      font-size:22px;
      line-height:1.5;
    }

    .body ul{
      margin:22px auto 0;
      padding:0;
      max-width:640px;
      list-style:none;
      text-align:left;
    }
    .body li{
      margin:10px 0;
      padding-left:34px;
      position:relative;
      color:var(--text);
      font-size:18px;
    }
    .body li::before{
      content:"âœ“";
      position:absolute;
      left:0;
      top:0;
      color:#111;
      font-weight:900;
    }

    @media (max-width:520px){
      h1{font-size:46px}
      .lead,.body{font-size:18px}
      .body li{font-size:16px}
    }
  </style>
</head>

<body>
<header>
  <div class="nav">
    <a class="brand" href="/">
      <img src="/images/logo.png" alt="Hjelpeportalen logo">
      <span>Hjelpeportalen</span>
    </a>

    <nav class="links">
      <a href="#tjenester">Tjenester</a>
      <a href="#omoss">Om oss</a>
      <a href="#kontakt">Kontakt</a>
      <a href="#priser">Priser</a>
      <a class="cta" href="#bestill">Bestill hjelp</a>
    </nav>

    <button class="burger" id="burger" aria-expanded="false">â˜° Meny</button>
  </div>

  <div class="mobileMenu" id="mobileMenu">
    <a href="#tjenester">Tjenester</a>
    <a href="#omoss">Om oss</a>
    <a href="#kontakt">Kontakt</a>
    <a href="#priser">Priser</a>
  </div>
</header>

<main>
  <section class="hero">
    <h1 id="pageTitle">Lasterâ€¦</h1>
    <div class="lead" id="pageLead" style="display:none"></div>
    <div class="body" id="pageBody"></div>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script>
  const burger = document.getElementById("burger");
  const mobileMenu = document.getElementById("mobileMenu");

  burger.addEventListener("click", () => {
    const open = mobileMenu.style.display === "block";
    mobileMenu.style.display = open ? "none" : "block";
    burger.setAttribute("aria-expanded", String(!open));
  });

  // ðŸ”’ LUKK MENY VED KLIKK (NY)
  mobileMenu.querySelectorAll("a").forEach(link=>{
    link.addEventListener("click", ()=>{
      mobileMenu.style.display="none";
      burger.setAttribute("aria-expanded","false");
    });
  });

  function parseFrontmatter(md){
    if(!md.startsWith("---")) return {data:{},body:md};
    const end = md.indexOf("\n---",3);
    const raw = md.slice(3,end).trim();
    const body = md.slice(end+4);
    const data={};
    raw.split("\n").forEach(l=>{
      const i=l.indexOf(":");
      if(i>-1)data[l.slice(0,i).trim()]=l.slice(i+1).trim();
    });
    return {data,body};
  }

  fetch("/content/home.md",{cache:"no-store"})
    .then(r=>r.text())
    .then(md=>{
      const p=parseFrontmatter(md);
      document.getElementById("pageTitle").textContent=p.data.title||"Hjelpeportalen";
      if(p.data.lead){
        const l=document.getElementById("pageLead");
        l.textContent=p.data.lead;
        l.style.display="block";
      }
      document.getElementById("pageBody").innerHTML=marked.parse(p.body||"");
    });
</script>
</body>
</html>
