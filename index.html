<!doctype html>
<html lang="nb">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hjelpeportalen</title>

  <style>
    :root{
      --text:#0f172a;
      --muted:#475569;
      --line:#e5e7eb;
      --bg:#ffffff;
      --btn:#0b0b0b;
      --btnText:#ffffff;
      --max: 1100px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:var(--bg);
    }

    /* Header */
    header{
      border-bottom:1px solid var(--line);
      background:#fff;
    }
    .nav{
      max-width:var(--max);
      margin:0 auto;
      padding:18px 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:inherit;
      font-weight:700;
      flex: 1 1 auto;
      min-width: 0;
    }
    .brand img{
      width:44px;
      height:44px;
      display:block;
    }

    /* Desktop links */
    .links{
      display:flex;
      align-items:center;
      gap:22px;
      font-size:14px;
      flex: 0 0 auto;
    }
    .links a{
      text-decoration:none;
      color:var(--text);
      opacity:.9;
    }
    .links a:hover{opacity:1}

    /* CTA button (shared) */
    .cta{
      padding:10px 14px;
      border-radius:999px;
      background:var(--btn);
      color:var(--btnText) !important;
      font-weight:700;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      white-space:nowrap;
    }

    /* Mobile top controls */
    .controls{
      display:flex;
      align-items:center;
      gap:10px;
      flex: 0 0 auto;
    }
    .burger{
      display:none;
      border:1px solid var(--line);
      background:#fff;
      border-radius:10px;
      padding:10px 12px;
      font-weight:700;
      cursor:pointer;
    }

    /* Mobile menu panel */
    .mobileMenu{
      display:none;
      border-top:1px solid var(--line);
      padding:10px 20px 18px;
      max-width:var(--max);
      margin:0 auto;
    }
    .mobileMenu a{
      display:block;
      padding:10px 0;
      text-decoration:none;
      color:var(--text);
      border-bottom:1px dashed #f1f5f9;
    }
    .mobileMenu a:last-child{border-bottom:none}
    .mobileMenu .cta{
      display:inline-flex;
      margin-top:12px;
      width:max-content;
    }

    /* Show mobile CTA + burger, hide desktop links */
    .ctaMobile{ display:none; }

    @media (max-width: 860px){
      .links{display:none}
      .burger{display:inline-flex}
      .ctaMobile{display:inline-flex}
    }

    /* Main */
    main{
      max-width:var(--max);
      margin:0 auto;
      padding:70px 20px 90px;
    }
    .hero{text-align:center}
    h1{
      margin:0;
      font-size:64px;
      letter-spacing:-0.03em;
      line-height:1.05;
    }
    .lead{
      margin:16px auto 0;
      font-size:22px;
      font-weight:800;
      max-width:780px;
    }

    /* Spacing between lead and body */
    .body{
      margin:34px auto 0;
      max-width:780px;
      color:var(--muted);
      font-size:22px;
      line-height:1.5;
    }

    /* Markdown list styling */
    .body ul{
      margin:28px auto 0;
      padding:0;
      max-width:640px;
      list-style:none;
      text-align:left;
    }
    .body li{
      margin:10px 0;
      padding-left:34px;
      position:relative;
      color:var(--text);
      font-size:18px;
      line-height:1.4;
    }
    .body li::before{
      content:"✓";
      position:absolute;
      left:0;
      top:0;
      color:#111;
      font-weight:900;
    }

    @media (max-width:520px){
      main{padding:46px 18px 70px}
      h1{font-size:46px}
      .lead,.body{font-size:18px}
      .body li{font-size:16px}
      .nav{padding:14px 16px;}
      .brand img{width:40px;height:40px;}
      .cta{padding:9px 12px;}
      .burger{padding:9px 10px;}
    }
  </style>
</head>

<body>
<header>
  <div class="nav">
    <a class="brand" href="/">
      <img src="/images/logo.png" alt="Hjelpeportalen logo">
      <span>Hjelpeportalen</span>
    </a>

    <!-- Desktop menu -->
    <nav class="links" aria-label="Hovedmeny">
      <a href="#tjenester">Tjenester</a>
      <a href="#omoss">Om oss</a>
      <a href="#kontakt">Kontakt</a>
      <a href="#priser">Priser</a>
      <a class="cta" href="#bestill">Bestill hjelp</a>
    </nav>

    <!-- Mobile controls (CTA + burger) -->
    <div class="controls">
      <a class="cta ctaMobile" href="#bestill">Bestill hjelp</a>
      <button class="burger" id="burger" aria-expanded="false" aria-controls="mobileMenu">☰</button>
    </div>
  </div>

  <div class="mobileMenu" id="mobileMenu">
    <a href="#tjenester">Tjenester</a>
    <a href="#omoss">Om oss</a>
    <a href="#kontakt">Kontakt</a>
    <a href="#priser">Priser</a>
    <a class="cta" href="#bestill">Bestill hjelp</a>
  </div>
</header>

<main>
  <section class="hero">
    <h1 id="pageTitle">Laster…</h1>
    <div class="lead" id="pageLead" style="display:none;"></div>
    <div class="body" id="pageBody"></div>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
  // Mobile menu toggle
  const burger = document.getElementById("burger");
  const mobileMenu = document.getElementById("mobileMenu");
  burger?.addEventListener("click", () => {
    const open = mobileMenu.style.display === "block";
    mobileMenu.style.display = open ? "none" : "block";
    burger.setAttribute("aria-expanded", String(!open));
  });

  // Frontmatter parser
  function parseFrontmatter(md){
    if(!md.startsWith("---")) return {data:{}, body:md};
    const end = md.indexOf("\n---",3);
    if(end === -1) return {data:{}, body:md};
    const raw = md.slice(3,end).trim();
    const body = md.slice(end+4).trim();
    const data = {};
    raw.split("\n").forEach(l=>{
      const i=l.indexOf(":");
      if(i>-1) data[l.slice(0,i).trim()] = l.slice(i+1).trim();
    });
    return {data, body};
  }

  // Load content/home.md
  fetch("/content/home.md",{cache:"no-store"})
    .then(r=>r.text())
    .then(md=>{
      const p=parseFrontmatter(md);
      document.getElementById("pageTitle").textContent = p.data.title || "Hjelpeportalen";
      const leadEl = document.getElementById("pageLead");
      if(p.data.lead){
        leadEl.style.display="block";
        leadEl.textContent=p.data.lead;
      }else{
        leadEl.style.display="none";
        leadEl.textContent="";
      }
      document.getElementById("pageBody").innerHTML = marked.parse(p.body || "");
    });
</script>
</body>
</html>
